<launch>
    <arg name="static_base" default="false"/>
    <arg name="use_tracker" default="false"/>

    <node pkg="kineverse" type="kineverse_server.py" name="kineverse_server" output="screen"/>
    <include file="$(find kineverse_experiment_world)/launch/fetch.launch">
        <arg name="static_base" value="$(arg static_base)"/>
    </include>
    <include file="$(find kineverse_experiment_world)/launch/iai_kitchen.launch"/>
    <node pkg="kineverse_experiment_world" type="kitchen_bullet_world.py" name="kitchen_bullet_world" output="screen"/>

    <group if="$(arg use_tracker)">
        <node pkg="robot_state_publisher" type="robot_state_publisher" name="kitchen_tracking_result" output="screen" >
            <param name="tf_prefix" value="tracked"/>
            <remap from="robot_description" to="/iai_kitchen/robot_description"/>
            <remap from="joint_states"      to="/tracked/joint_states"/>
        </node>
        <node name="tracked_kitchen_to_base" pkg="tf" type="static_transform_publisher" output="screen" respawn="true" args="0 0 0 0 0 0 1 map tracked/room_link 20"/>
    </group>
</launch>